generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model account {
  account_id   Int      @id @default(autoincrement())
  lastname     String   @db.VarChar(255)
  firstname    String   @db.VarChar(255)
  username     String   @db.VarChar(100)
  password     String   @db.VarChar(100)
  date_created DateTime @default(now()) @db.DateTime(0)
  usertype     String   @db.VarChar(20)
  sales        sales[]
}

model category {
  category_id Int    @id @default(autoincrement())
  category    String @db.VarChar(255)
}

model delivery_staff {
  deliverystaff_id Int      @id @default(autoincrement())
  name             String   @db.VarChar(100)
  username         String   @db.VarChar(50)
  password         String   @db.VarChar(50)
  date_created     DateTime @default(now()) @db.DateTime(0)
}

model inventory {
  inv_id     Int      @id @default(autoincrement())
  brand      String   @db.VarChar(50)
  item       String   @db.VarChar(200)
  stock      Int
  unit       String   @db.VarChar(20)
  stock_date DateTime @default(now()) @db.DateTime(0)
}

model menu {
  menu_id      Int      @id @default(autoincrement())
  menu         String   @db.VarChar(100)
  category     String   @db.VarChar(255)
  price        Float    @db.Float
  description  String   @db.VarChar(255)
  stock        Int
  package      String   @db.VarChar(255)
  image        String?   @db.VarChar(255)
  date_created DateTime @default(now()) @db.DateTime(0)
}

model notification {
  notif_id Int    @id @default(autoincrement())
  sales_id Int
  isRead   String @db.VarChar(255)
}

model online_orders {
  order_id   Int      @id @default(autoincrement())
  menu       String   @db.VarChar(100)
  quantity   Int
  unit_price Float    @db.Float
  order_type String   @db.VarChar(20)
  order_date DateTime @default(now()) @db.DateTime(0)
}

model onlinecustomer {
  customer_id    Int      @id @default(autoincrement())
  name           String   @db.VarChar(100)
  address        String   @db.VarChar(100)
  email          String   @db.VarChar(30)
  contact_number Int
  date           DateTime @default(now()) @db.DateTime(0)
}

model reservation {
  res_id      Int      @id @default(autoincrement())
  pax         Int
  name        String   @db.VarChar(40)
  contact_num String   @db.VarChar(15)
  date        DateTime @db.Date
  time        DateTime @db.Time(0)
  fee         Float    @db.Float
}

model sales {
  sales_id       Int            @id @default(autoincrement())
  discounted     String         @db.VarChar(255)
  order_category String         @db.VarChar(255)
  order_number   Int
  order_type     String         @db.VarChar(20)
  customer_id    Int
  total          Float          @db.Float
  date           DateTime       @default(now()) @db.DateTime(0)
  account_id     Int
  walkincustomer walkincustomer @relation(fields: [customer_id], references: [customer_id], onDelete: Cascade, map: "sales_ibfk_1")
  account        account        @relation(fields: [account_id], references: [account_id], onDelete: Cascade, map: "sales_ibfk_2")

  @@index([account_id], map: "account_id")
  @@index([customer_id], map: "sales_ibfk_1")
}

model walkin_orders {
  order_id       Int            @id @default(autoincrement())
  order_number   String         @db.VarChar(10)
  menu           String         @db.VarChar(200)
  quantity       Int
  unit_price     Float          @db.Float
  order_date     DateTime       @default(now()) @db.DateTime(0)
  customer_id    Int
  walkincustomer walkincustomer @relation(fields: [customer_id], references: [customer_id], onDelete: Cascade, map: "walkin_orders_ibfk_1")

  @@index([customer_id], map: "customer_id")
}

model walkincustomer {
  customer_id   Int             @id @default(autoincrement())
  name          String          @db.VarChar(200)
  date          DateTime        @default(now()) @db.DateTime(0)
  archive       Boolean         @default(false)
  sales         sales[]
  walkin_orders walkin_orders[]
}
